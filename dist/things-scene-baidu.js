!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t){e.exports=scene},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);var a={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"value",name:"value"},{type:"angle",label:"angle property",name:"propAngle"},{type:"string",label:"string property",name:"propString"},{type:"color",label:"color property",name:"propColor"}]},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.ValueHolder)((0,o.RectPath)(o.Shape))),n(t,[{key:"dispose",value:function(){(function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"render",value:function(e){var t=this.model,r=t.top,n=t.left,o=t.height,a=t.width,i=t.backgroundColor,l=void 0===i?"transparent":i;t.reverse;this.animOnValueChange(this.value),e.beginPath(),e.rect(n,r,a,o),e.fillStyle=l,e.fill(),e.beginPath();var s=a-a*Math.max(Math.min(this.animValue,100),0)/100;s=Math.max(Math.min(s,a),0),e.rect(n+s,r,a-s,o),this.drawFill(e),e.closePath(),e.beginPath(),e.rect(n,r,a,o)}},{key:"postrender",value:function(e){this.drawStroke(e),this.drawText(e)}},{key:"controls",get:function(){}}],[{key:"nature",get:function(){return a}}]),t}();t.default=i,o.Component.register("bmap-marker",i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0},a=r(0);var i={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"number",label:"latitude",name:"lat"},{type:"number",label:"longitude",name:"lng"},{type:"number",label:"zoom",name:"zoom"},{type:"string",label:"api-key",name:"apiKey"}],"value-property":"latlng"};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.HTMLOverlayContainer),n(t,[{key:"ready",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this),this.rootModel&&(this._listenTo=this.rootModel,this._listener=function(e){e.scale&&this.rescale()}.bind(this),this.rootModel.on("change",this._listener))}},{key:"removed",value:function(){this._listenTo&&(this._listenTo.off("change",this._listener),delete this._listenTo,delete this._listener)}},{key:"rescale",value:function(){var e=this._anchor;if(e){var r=function(e){for(var t={x:1,y:1},r=e;r;){var n=r.get("scale")||{x:1,y:1},o=n.x,a=n.y;t.x*=o||1,t.y*=a||1,r=r.parent}return t}(this),n="scale("+1/r.x+", "+1/r.y+")";["-webkit-","-moz-","-ms-","-o-",""].forEach(function(t){e.style[t+"transform"]=n,e.style[t+"transform-origin"]="0px 0px"});var o=this.model,a=o.width,i=o.height;if(e.style.width=a*r.x+"px",e.style.height=i*r.y+"px",t.loaded){var l=this.model,s=l.lat,u=l.lng,p=l.zoom,c=new BMap.Point(u,s);this.map.centerAndZoom(c,p)}}}},{key:"createElement",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElement",this).call(this),this._anchor=document.createElement("div"),this.element.appendChild(this._anchor),this.rescale(),this._markerComponents=[],this._markers=[],this._onmarkerchange=this.onmarkerchange.bind(this),t.load(this)}},{key:"onload",value:function(){t.loaded=!0;this.map;this.buildMarkers(),this.rescale()}},{key:"dispose",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this),this._markerComponents&&this._markerComponents.slice().forEach(function(t){e.removeMarker(t)}),delete this._markerComponents,delete this._markers,delete this._anchor}},{key:"buildMarkers",value:function(){var e=this,t=[];this._markerComponents.forEach(function(r){var n=r.model,o=n.lat,a=n.lng,i=new BMap.Point(o,a),l=new BMap.Marker(i);t.push(l),e.map.addOverlay(l),r.marker=l}),this._markers=t}},{key:"touchMarker",value:function(e){var r=this._markerComponents.indexOf(e);if(-1!=r&&t.loaded){this._markers[r];var n=e.model,o=n.lat,a=n.lng;new BMap.Point(o,a)}}},{key:"onmarkerchange",value:function(e,t,r){var n=r.origin;(e.hasOwnProperty("lat")||e.hasOwnProperty("lng"))&&this.touchMarker(n)}},{key:"addMarker",value:function(e){this._markerComponents||(this._markerComponents=[]);var r=this._markerComponents,n=this._markers;if(-1==r.indexOf(e)){if(r.push(e),e.on("change",this._onmarkerchange),!t.loaded)return;var o=e.model,a=o.lat,i=o.lng,l=new BMap.Point(a,i),s=new BMap.Marker(l);n.push(s),this.map.addOverlay(s),e.marker=s}}},{key:"removeMarker",value:function(e){if(this._markerComponents){var t=this._markerComponents.indexOf(e);if(-1!=t){e.off("change",this._onmarkerchange),e.marker=null,this._markerComponents.splice(t,1);this._markers.splice(t,1)}}}},{key:"setElementProperties",value:function(e){this.rescale()}},{key:"onchange",value:function(e,r){if(t.loaded&&(e.zoom||e.hasOwnProperty("lat")||e.hasOwnProperty("lng"))){var n=this.model,a=n.lat,i=n.lng,l=n.zoom,s=new BMap.Point(a,i);this.map.centerAndZoom(s,l)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onchange",this).call(this,e,r),this.rescale()}},{key:"tagName",get:function(){return"div"}},{key:"map",get:function(){if(!this._map){var e=this.model,t=e.lat,r=e.lng,n=e.zoom,o=new BMap.Map(this._anchor),a=new BMap.Point(t,r);o.centerAndZoom(a,n),o.enableScrollWheelZoom(),this._map=o}return this._map}},{key:"markers",get:function(){return this._markerComponents||(this._markerComponents=[],this._markers=[]),this._markers}},{key:"latlng",get:function(){return{lat:this.get("lat"),lng:this.get("lng")}},set:function(e){this.set(e)}},{key:"nature",get:function(){return i}}],[{key:"load",value:function(e){var t=e.get("apiKey")||"bMxSipKRYIqOi2q4M7XR7IqKM2Xt3fNy";a.ScriptLoader.load("http://api.map.baidu.com/getscript?v=3.0&ak="+t+"&services=&t=20180427193045").then(function(){return e.onload()},a.error)}}]),t}();t.default=l,a.Component.register("baidu-map",l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),o=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}t.default=[n.default,o.default]},function(e,t,r){e.exports=r(3)}]);
//# sourceMappingURL=things-scene-baidu.js.map